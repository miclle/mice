// Tables
// --------------------------------------------------

@use 'sass:color';

// Table component variables
table {
  --table-cell-padding: 8px;
  --table-condensed-cell-padding: 5px;
  --table-background: transparent;
  --table-background-accent: #f9f9f9;
  --table-background-hover: #f5f5f5;
  --table-background-active: #f5f5f5;
  --table-border-color: #ddd;
}

table {
  display: table;
  width: 100%;
  max-width: 100%;
  margin-bottom: 15px;
  border-collapse: collapse;
  border-spacing: 0;
  background-color: var(--table-background);
}

table > thead,
table > tbody,
table > tfoot {
  > tr {
    &.active > th,
    th.active,
    &.active > td,
    td.active {
      background-color: var(--table-background-active);
    }
    &.primary > th,
    th.primary,
    &.primary > td,
    td.primary {
      background-color: #b3d7ff; // Pre-calculated: brand-primary lightened 32%
    }
    &.success > th,
    th.success,
    &.success > td,
    td.success {
      background-color: #d8f0d2; // Pre-calculated: brand-success lightened 32%
    }
    &.info > th,
    th.info,
    &.info > td,
    td.info {
      background-color: #c2e8f7; // Pre-calculated: brand-info lightened 32%
    }
    &.warning > th,
    th.warning,
    &.warning > td,
    td.warning {
      background-color: #fee6b5; // Pre-calculated: brand-warning lightened 32%
    }
    &.danger > th,
    th.danger,
    &.danger > td,
    td.danger {
      background-color: #f9c4c4; // Pre-calculated: brand-danger lightened 32%
    }
  }
}

table > thead,
table > tbody,
table > tfoot {
  > tr {
    > th,
    > td {
      border-collapse: collapse;
      padding: var(--table-cell-padding);
      border: none;
      border-bottom: 1px solid var(--table-border-color);
    }
  }
}

table > thead > tr > td,
table > thead > tr > th,
table > tbody > tr > th,
table > tfoot > tr > td,
table > tfoot > tr > th {
  font-weight: bold;
  text-align: left;
}

table {
  // Condensed table
  // -------------------------
  &.condensed {
    > thead,
    > tbody,
    > tfoot {
      > tr {
        > th,
        > td {
          padding: var(--table-condensed-cell-padding);
        }
      }
    }
  }

  // Bordered
  // -------------------------
  &.bordered {
    &,
    > thead,
    > tbody,
    > tfoot {
      tr {
        > th,
        > td {
          border: 1px solid var(--table-border-color);
        }
      }
    }
  }

  // Striped
  // -------------------------
  &.striped > tbody > tr:nth-child(odd) {
    > th,
    > td {
      background-color: var(--table-background-accent);
    }
  }

  // Hover
  // -------------------------
  &.hover > tbody > tr:hover {
    > th,
    > td {
      background-color: var(--table-background-hover);
    }
  }
}

// Responsive Table
// --------------------------------------------------
.table.responsive {
  width: 100%;
  overflow: scroll hidden;
  -ms-overflow-style: -ms-autohiding-scrollbar;
  -webkit-overflow-scrolling: touch;
  border: 1px solid var(--table-border-color);

  > table {
    margin-bottom: 0;

    &.bordered {
      border: none;

      > thead,
      > tbody,
      > tfoot {
        > tr {
          > th:first-child,
          > td:first-child {
            border-left: 0;
          }
          > th:last-child,
          > td:last-child {
            border-right: 0;
          }
        }
      }

      > thead,
      > tbody {
        > tr:first-child {
          > th,
          > td {
            border-top: 0;
          }
        }
      }
    }

    > thead,
    > tbody,
    > tfoot {
      > tr {
        > th,
        > td {
          white-space: nowrap;
        }
      }
    }

    > *:last-child {
      > tr:last-child {
        > th,
        > td {
          border-bottom: none;
        }
      }
    }
  }
}
